<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Barakah Link</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="app">
  <h1 class="title">Quran Ustaz Finder</h1>
  <p class="subtitle">Find a trusted Quran teacher near you</p>

  <div class="card-container">
    <div class="card" id="card">

      <!-- LOGIN -->
      <div class="card-face front">
        <div class="card-content">
          <h2>Login</h2>
          <input type="text" id="loginPhone" placeholder="Phone number">
          <input type="password" id="loginPassword" placeholder="Password">
          <button onclick="login()">Login</button>
          <p class="link">
            Don’t have an account?
            <span onclick="flipCard()">Sign up</span>
          </p>
        </div>
      </div>

      <!-- SIGNUP -->
      <div class="card-face back">
        <div class="card-content">
          <h2>Create Account</h2>

          <select id="role">
            <option value="">Sign up as</option>
            <option value="parent">Parent</option>
            <option value="ustaz">Ustaz / Ustaza</option>
          </select>

          <input type="text" id="fullName" placeholder="Full name">
          <input type="text" id="signupPhone" placeholder="Phone number">

          <select id="subcity">
            <option value="">Select Sub-City</option>
            <option value="bole">Bole</option>
            <option value="yeka">Yeka</option>
            <option value="kirkos">Kirkos</option>
            <option value="lideta">Lideta</option>
            <option value="arada">Arada</option>
            <option value="addisketema">Addis Ketema</option>
            <option value="nifassilk">Nifas Silk</option>
            <option value="kolfe">Kolfe Keranio</option>
            <option value="akakikaliti">Akaki Kality</option>
            <option value="gullele">Gullele</option>
          </select>

          <select id="area">
            <option value="">Select Area</option>
          </select>

          <div id="ustazFields" style="display:none; margin-top:10px;">
            <input type="number" id="experience" placeholder="Years of Experience" min="0" max="50">
            <label style="margin-top:10px; font-size:13px;">Available days:</label>
            <select id="availableDays" multiple size="5">
              <option value="monday">Monday</option>
              <option value="tuesday">Tuesday</option>
              <option value="wednesday">Wednesday</option>
              <option value="thursday">Thursday</option>
              <option value="friday">Friday</option>
              <option value="saturday">Saturday</option>
              <option value="sunday">Sunday</option>
            </select>
            <small>Hold Ctrl (or Cmd) to select multiple days</small>
          </div>

          <input type="password" id="signupPassword" placeholder="Password">
          <button onclick="signup()">Sign Up</button>

          <p class="link">
            Already have an account?
            <span onclick="flipCard()">Login</span>
          </p>
          <div class="back-btn" onclick="flipCard()">← Back</div>
        </div>
      </div>

      <!-- OTP -->
      <div class="card-face otp">
        <div class="card-content">
          <h2>Enter OTP</h2>
          <p>An OTP has been sent to your phone</p>
          <input type="text" id="otpInput" placeholder="Enter OTP">
          <button onclick="verifyOtp()">Verify OTP</button>
          <div class="back-btn" onclick="backToSignup()">← Back</div>
        </div>
      </div>

      <!-- PROFILE COMPLETION FOR USTAZ -->
      <div class="card-face profile">
        <div class="card-content">
          <h2>Complete Your Profile</h2>

          <!-- Gender -->
          <select id="gender">
            <option value="">Select Gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>

          <!-- Subjects -->
          <label style="margin-top:10px; font-size:13px;">Subjects you can teach:</label>
          <div id="subjects">
            <label><input type="checkbox" value="quran"> Quran</label>
            <label><input type="checkbox" value="fiqh"> Fiqh</label>
            <label><input type="checkbox" value="hadith"> Hadith</label>
            <label><input type="checkbox" value="arabic"> Arabic</label>
            <label><input type="checkbox" value="tafsir"> Tafsir</label>
          </div>

          <!-- Bio -->
          <textarea id="bio" placeholder="Write a short bio about yourself" rows="3"></textarea>

          <!-- Photo upload -->
          <input type="file" id="photo" accept="image/*">

          <!-- Languages spoken -->
          <input type="text" id="languages" placeholder="Languages you speak">

          <!-- Teaching mode -->
          <label>Teaching mode:</label>
          <select id="mode">
            <option value="">Select mode</option>
            <option value="inperson">In-person</option>
            <option value="online">Online (Zoom, Telegram, etc.)</option>
            <option value="both">Both</option>
          </select>

          <!-- Optional certification -->
          <input type="text" id="certification" placeholder="Certification (optional)">

          <!-- Nearby landmark / address -->
          <input type="text" id="landmark" placeholder="Nearby landmark / street description">

          <button onclick="submitProfile()">Review & Submit</button>
        </div>
      </div>

      <!-- HOME (inside card, no external redirect) -->
      <div class="card-face home">
        <div class="card-content">
          <h2>Welcome!</h2>
          <p>You are now logged in.</p>
          <div id="homeContent">
            <p>Search for Quran Ustaz, view profiles, and contact them here.</p>
          </div>
          <div class="back-btn" onclick="logout()">← Logout</div>
        </div>
      </div>

    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>